let a=[];chrome.storage.local.get(["alarms"],e=>a=e.alarms||[]);chrome.storage.local.onChanged.addListener(({alarms:e})=>a=(e==null?void 0:e.newValue)||[]);setInterval(async()=>{for(let e of a)if(new Date(e).getTime()<=new Date().getTime()){const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});if(!t)return;chrome.tabs.sendMessage(t.id,{event:"alarm",time:e});const r=a.filter(o=>o!=e);chrome.storage.local.set({alarms:r})}},1e3);
